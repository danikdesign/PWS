<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead>
    <tr>
      <th scope="col"><%= sort_link @q, :id, default_order: :desc, class: 'text-reset' %></th>
      <th scope="col"><%= sort_link @q, :first_name, class: 'text-reset' %></th>
      <th scope="col"><%= sort_link @q, :address, class: 'text-reset' %></th>
      <th scope="col"><%= sort_link @q, :phone, class: 'text-reset' %></th>
      <th scope="col"><%= sort_link @q, :purifier_brand, class: 'text-reset' %></th>
      <th scope="col"><%= sort_link @q, :installations_date, class: 'text-reset' %></th>
      <th scope="col"><%= sort_link @q, :services_date, class: 'text-reset' %></th>
    </tr>
    </thead>
    <tbody>
    <% @clients.each do |client| %>
      <%= tag.tr data: { controller: 'table',
                        'action': 'click->table#getCard',
                        'table-id-value': client.id } do %>
        <th scope="row"><%= client.id %></th>
        <td><%= client.name %></td>
        <td><%= client.address %></td>
        <td><%= client.phone %></td>
        <td><%= client.purifier %></td>

        <% if client.installations.present? %>
          <td><%= client.installations.last.formatted_date %></td>
        <% else %>
          <td><%= t('.no_info') %></td>
        <% end %>

        <% if client.services.present? %>
          <td><%= client.services.last.formatted_date %></td>
        <% else %>
          <td><%= t('.no_info') %></td>
        <% end %>

      <% end %>
    <% end %>
    </tbody>
  </table>
</div>